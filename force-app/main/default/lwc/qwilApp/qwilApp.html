<template>
  <template if:false={loaded}>
    <div class="qwil-loading full-page">
      <lightning-spinner
        alternative-text="Loading"
        size="large"
      ></lightning-spinner>
    </div>
  </template>
  <template if:true={error}>
    <lightning-layout
      vertical-align="center"
      horizontal-align="center"
      class="full-page"
    >
      <div class="slds-size_large">
        <lightning-card>
          <div
            class="slds-align_absolute-center"
            style="height: 7rem; flex-direction: column"
          >
            <div>
              <lightning-icon
                icon-name="utility:warning"
                alternative-text="Error"
                title="Error"
                class="error-icon"
              ></lightning-icon>
            </div>
            <div class="error-text slds-m-top_medium">{error}</div>
          </div>
        </lightning-card>
      </div>
    </lightning-layout>
  </template>
  <template if:true={selected}>
    <c-qwil-embed
      entity-uuid={selected.entityUuid}
      entity-user-xref-uuid={selected.entityUserXrefUuid}
    >
    </c-qwil-embed>
  </template>
  <template if:true={accountsForSelection}>
    <lightning-layout
      vertical-align="center"
      horizontal-align="center"
      class="full-page"
    >
      <div class="slds-size_large">
        <c-qwil-account-selector
          accounts={accountsForSelection}
          onselected={handleSelected}
        ></c-qwil-account-selector>
      </div>
    </lightning-layout>
  </template>
</template>
